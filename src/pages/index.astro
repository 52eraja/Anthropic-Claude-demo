---
import Layout from '../layouts/Layout.astro'
import Header from '../components/Header.astro'
import Footer from '../components/Footer.astro'
import Generator from '../components/Generator'
import { authCheck } from '../components/authCheck.astro';

import '../message.css'
import 'katex/dist/katex.min.css'
import 'highlight.js/styles/atom-one-dark.css'

const isAuthenticated = authCheck(Astro.request);
if (!isAuthenticated) {
  return {
    status: 302,
    headers: {
      location: '/password',
    },
  };
}
---

<Layout title="Anthropic API Demo">
  <main>
    <Header />
    <Generator client:load />
    <Footer />
  </main>
</Layout>
